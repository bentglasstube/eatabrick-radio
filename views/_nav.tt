<% macro link(uri, text) block -%>
  <% current = '' -%>
  <% current = 'current' if uri == request.path_info -%>
  <li class="<% current %>"><a href="<% uri %>"><% text %></a></li>
<% end -%>

<ul id="navigation">
  <% link('/', 'News') %>
  <% link('/songs', 'Songs') %>
  <% link('/queue', 'Queue') %>
  <% link('/upload', 'Upload') %>
  <% if session.user %>
    <% link('/logout', 'Log out') %>
  <% else %>
    <% link('/login', 'Log In') %>
  <% end %>
</ul>
